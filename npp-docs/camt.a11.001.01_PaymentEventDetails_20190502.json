{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "description": "ISO 20022 JSON Schema PaymentEventDetails (camt.a11.001.01) Generated by SWIFT Standards 2019-05-02 03:21:44",
  "additionalProperties": false,
  "properties": {
    "$id": {
      "default": "urn:iso:std:iso:20022:tech:json:camt.a11.001.01"
    },
    "payment_event_details": {
      "$ref": "#/definitions/PaymentEventDetails"
    }
  },
  "definitions": {
    "PaymentEventDetails": {
      "type": "object",
      "description": "This API allows a  NPP client (customer or Overlay Service Provider) to fetch from the NPP Participant details of a debit or credit to their account (e.g. under a API call-back arrangement). \r\n",
      "additionalProperties": false,
      "properties": {
        "request": {
          "description": "HTTP request sent by the API client",
          "$ref": "#/definitions/PaymentEventRequest1"
        },
        "response": {
          "description": "HTTP response returned by server.",
          "$ref": "#/definitions/PaymentEventResponse1"
        }
      }
    },
    "PaymentEventRequest1": {
      "type": "object",
      "description": "Request sent by NPP Participant (account servicer) to client detailing the nature of the event and identifying the affected resource, including an access credential under a call-back arrangement. ",
      "additionalProperties": false,
      "properties": {
        "notification_identification": {
          "description": "Unique notification identification as assigned by the NPP Participant (Account Servicer) to unambiguously identify the payment event  notification.",
          "$ref": "#/definitions/UUIDv4Identifier"
        }
      },
      "required": [
        "notification_identification"
      ]
    },
    "UUIDv4Identifier": {
      "type": "string",
      "description": "Universally Unique IDentifier (UUID) version 4, as described in IETC RFC 4122 \"Universally Unique IDentifier (UUID) URN Namespace\".",
      "minLength": 36,
      "maxLength": 36,
      "pattern": "^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}$"
    },
    "PaymentEventResponse1": {
      "type": "object",
      "description": "Response from NPP Participant (account servicer) to client with the details of a designated payment event (debit or credit) to their account. This is the consequence of having received a notification from the NPP Participant under a call-back arrangement. ",
      "additionalProperties": false,
      "properties": {
        "original_transaction_identification": {
          "description": "Unique identification, as assigned by the first instructing agent, to unambiguously identify the transaction that is passed on, unchanged, throughout the entire interbank chain.",
          "$ref": "#/definitions/Max35Text"
        },
        "original_end_to_end_identification": {
          "description": "Unique identification, as assigned by the original initiating party, to unambiguously identify the original transaction.",
          "$ref": "#/definitions/Max35Text"
        },
        "original_instruction_identification": {
          "description": "Unique identification, as assigned by the original instructing party for the original instructed party, to unambiguously identify the original instruction.",
          "$ref": "#/definitions/Max35Text"
        },
        "original_instructed_amount": {
          "description": "Amount of money, as provided in the original transaction, to be moved between the debtor and the creditor, before deduction of charges, expressed in the currency, as ordered by the original initiating party.\r\n\r\nUsage: This amount has to be transported unchanged through the transaction chain.",
          "$ref": "#/definitions/ActiveOrHistoricCurrencyAndAmount"
        },
        "service_level": {
          "description": "Specifies a pre-agreed service or level of service between the parties, as a proprietary code.",
          "$ref": "#/definitions/Max35Text"
        },
        "amount": {
          "description": "Amount of money in the cash transaction.",
          "$ref": "#/definitions/ActiveOrHistoricCurrencyAndAmount"
        },
        "credit_debit_indicator": {
          "description": "Indicates whether the entry is a credit or a debit entry.",
          "$ref": "#/definitions/CreditDebitCode"
        },
        "status": {
          "description": "Status of an entry on the books of the account servicer.",
          "$ref": "#/definitions/EntryStatus2Code"
        },
        "booking_date_time": {
          "description": "Date and time when an entry is posted to an account on the account servicer\u0027s books.\r\nUsage: Booking date is the expected booking date, unless the status is booked, in which case it is the actual booking date.",
          "$ref": "#/definitions/ISONormalisedDateTime"
        },
        "value_date_time": {
          "description": "Date and time at which assets become available to the account owner in case of a credit entry, or cease to be available to the account owner in case of a debit entry.\r\nUsage: If entry status is pending and value date is present, then the value date refers to an expected/requested value date.\r\nFor entries subject to availability/float and for which availability information is provided, the value date must not be used. In this case the availability component identifies the number of availability days.",
          "$ref": "#/definitions/ISONormalisedDateTime"
        },
        "charges": {
          "type": "array",
          "description": "Provides information on the charges, pre-advised or included in the entry amount.\r\n\r\nUsage: This component is used on entry level in case of batch or aggregate bookings.\r\n",
          "items": {
            "$ref": "#/definitions/ChargesRecord3"
          }
        },
        "bank_transaction_code": {
          "description": "Identifies the type of the bank transaction entry.",
          "$ref": "#/definitions/Max35Text"
        },
        "return_reason_code": {
          "description": "Reason for the return, as published in an external reason code list.",
          "$ref": "#/definitions/ExternalReturnReason1Code"
        },
        "return_additional_information": {
          "type": "array",
          "maxItems": 3,
          "description": "Further details on the return reason.",
          "items": {
            "$ref": "#/definitions/Max105Text"
          }
        },
        "account_servicer_reference": {
          "description": "Unique reference as assigned by the account servicing institution to unambiguously identify the entry.",
          "$ref": "#/definitions/Max35Text"
        },
        "debtor_name": {
          "description": "Name by which a party is known and which is usually used to identify that party.",
          "$ref": "#/definitions/Max140Text"
        },
        "debtor_alias_type": {
          "description": "Contains the type of Alias Identifier. E.g. an email, a phone number or an Australian Business\r\nNumber.",
          "$ref": "#/definitions/aliasxternaAliasType1Code"
        },
        "debtor_alias_value": {
          "description": "Contains the actual value for the supplied type, so an email address, a phone number etc.",
          "$ref": "#/definitions/Max2048Text"
        },
        "debtor_account_identification": {
          "description": "Unique and unambiguous identification for the account between the account owner and the account servicer.",
          "$ref": "#/definitions/Max34Text"
        },
        "debtor_account_type": {
          "description": "Name of the account identification identification scheme, in a coded form as published in an external list.",
          "$ref": "#/definitions/ExternalAccountIdentification1Code"
        },
        "debtor_agent_bic": {
          "description": "Code allocated to a financial or non-financial institution by the ISO 9362 Registration Authority, as described in ISO 9362 \"Banking - Banking telecommunication messages - Business identifier code (BIC)\".",
          "$ref": "#/definitions/AnyBICIdentifier"
        },
        "creditor_agent_bic": {
          "description": "Code allocated to a financial or non-financial institution by the ISO 9362 Registration Authority, as described in ISO 9362 \"Banking - Banking telecommunication messages - Business identifier code (BIC)\".",
          "$ref": "#/definitions/AnyBICIdentifier"
        },
        "creditor_name": {
          "description": "Name by which a party is known and which is usually used to identify that party.",
          "$ref": "#/definitions/Max140Text"
        },
        "creditor_alias_type": {
          "description": "Contains the type of Alias Identifier. E.g. an email, a phone number or an Australian Business Number.",
          "$ref": "#/definitions/aliasxternaAliasType1Code"
        },
        "creditor_alias_value": {
          "description": "Contains the actual value for the supplied type, so an email address, a phone number etc.",
          "$ref": "#/definitions/Max2048Text"
        },
        "creditor_account_identification": {
          "description": "Unique and unambiguous identification for the account between the account owner and the\r\naccount servicer.",
          "$ref": "#/definitions/Max34Text"
        },
        "creditor_account_type": {
          "description": "Name of the account identification identification scheme, in a coded form as published in an external list.",
          "$ref": "#/definitions/ExternalAccountIdentification1Code"
        },
        "remittance_referred_document_type": {
          "description": "Specifies the type of referred document.",
          "$ref": "#/definitions/Max35Text"
        },
        "remittance_referred_document_number": {
          "description": "Unique and unambiguous identification of the referred document.",
          "$ref": "#/definitions/Max35Text"
        },
        "remittance_referred_related_date": {
          "description": "Date associated with the referred document.",
          "$ref": "#/definitions/ISODate"
        },
        "remittance_information_unstructured": {
          "type": "array",
          "maxItems": 2,
          "description": "Information supplied to enable the matching/reconciliation of an entry with the items that the payment is intended to settle, such as commercial invoices in an accounts\u0027 receivable system, in an unstructured form.",
          "items": {
            "$ref": "#/definitions/Max140Text"
          }
        }
      },
      "required": [
        "original_transaction_identification",
        "original_end_to_end_identification",
        "amount",
        "credit_debit_indicator",
        "status",
        "debtor_name",
        "creditor_name"
      ]
    },
    "Max35Text": {
      "type": "string",
      "description": "Specifies a character string with a maximum length of 35 characters.",
      "minLength": 1,
      "maxLength": 35
    },
    "ActiveOrHistoricCurrencyAndAmount": {
      "type": "object",
      "description": "A number of monetary units specified in an active or a historic currency where the unit of currency is explicit and compliant with ISO 4217.",
      "properties": {
        "currency": {
          "$ref": "#/definitions/ActiveOrHistoricCurrencyCode"
        },
        "amount": {
          "type": "string",
          "maxLength": 19
        }
      }
    },
    "ActiveOrHistoricCurrencyCode": {
      "type": "string",
      "description": "A code allocated to a currency by a Maintenance Agency under an international identification scheme, as described in the latest edition of the international standard ISO 4217 \"Codes for the representation of currencies and funds\".",
      "pattern": "^[A-Z]{3,3}$"
    },
    "CreditDebitCode": {
      "type": "string",
      "description": "Specifies if an operation is an increase or a decrease.",
      "enum": [
        "CRDT",
        "DBIT"
      ]
    },
    "EntryStatus2Code": {
      "type": "string",
      "description": "Specifies the status of an entry.",
      "enum": [
        "BOOK",
        "PDNG",
        "INFO"
      ]
    },
    "ISONormalisedDateTime": {
      "type": "string",
      "description": "an ISODateTime whereby all timezoned dateTime values are UTC.",
      "pattern": "^(?:[1-9]\\d{3}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1\\d|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[1-9]\\d(?:0[48]|[2468][048]|[13579][26])|(?:[2468][048]|[13579][26])00)-02-29)T(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d(?:\\.[0-9]+)?(?:Z)$"
    },
    "ChargesRecord3": {
      "type": "object",
      "description": "Provides further individual record details on the charges related to the payment transaction.",
      "additionalProperties": false,
      "properties": {
        "amount": {
          "description": "Transaction charges to be paid by the charge bearer.",
          "$ref": "#/definitions/ActiveOrHistoricCurrencyAndAmount"
        },
        "credit_debit_indicator": {
          "description": "Indicates whether the charges amount is a credit or a debit amount. \nUsage: A zero amount is considered to be a credit.",
          "$ref": "#/definitions/CreditDebitCode"
        },
        "charge_included_indicator": {
          "description": "Indicates whether the charge should be included in the amount or is added as pre-advice.",
          "$ref": "#/definitions/ChargeIncludedIndicator"
        },
        "charge_type": {
          "description": "Specifies the type of charge.",
          "$ref": "#/definitions/ExternalChargeType1Code"
        },
        "rate": {
          "description": "Rate used to calculate the amount of the charge or fee.",
          "$ref": "#/definitions/PercentageRate"
        },
        "bearer": {
          "description": "Specifies which party/parties will bear the charges associated with the processing of the payment transaction.",
          "$ref": "#/definitions/ChargeBearerType1Code"
        },
        "tax_identification": {
          "description": "Unique reference to unambiguously identify the nature of the tax levied, such as Value Added Tax (VAT).",
          "$ref": "#/definitions/Max35Text"
        },
        "tax_rate": {
          "description": "Rate used to calculate the tax.",
          "$ref": "#/definitions/PercentageRate"
        },
        "tax_amount": {
          "description": "Amount of money resulting from the calculation of the tax.",
          "$ref": "#/definitions/ActiveOrHistoricCurrencyAndAmount"
        }
      },
      "required": [
        "amount"
      ]
    },
    "ChargeIncludedIndicator": {
      "type": "boolean",
      "description": "Indicates whether charges have already been included."
    },
    "ExternalChargeType1Code": {
      "type": "string",
      "description": "Specifies the nature, or use, of the charges in the format of character string with a maximum length of 4 characters.\r\nThe list of valid codes is an external code list published separately.\r\nExternal code sets can be downloaded from www.iso20022.org."
    },
    "PercentageRate": {
      "type": "string",
      "description": "Rate expressed as a percentage, ie, in hundredths, eg, 0.7 is 7/10 of a percent, and 7.0 is 7%.",
      "maxLength": 12
    },
    "ChargeBearerType1Code": {
      "type": "string",
      "description": "Specifies which party(ies) will pay charges due for processing of the instruction.",
      "enum": [
        "DEBT",
        "CRED",
        "SHAR",
        "SLEV"
      ]
    },
    "ExternalReturnReason1Code": {
      "type": "string",
      "description": "Specifies the return reason, as published in an external return reason code list.\r\nExternal code sets can be downloaded from www.iso20022.org."
    },
    "Max105Text": {
      "type": "string",
      "description": "Specifies a character string with a maximum length of 105 characters.",
      "minLength": 1,
      "maxLength": 105
    },
    "Max140Text": {
      "type": "string",
      "description": "Specifies a character string with a maximum length of 140 characters.",
      "minLength": 1,
      "maxLength": 140
    },
    "aliasxternaAliasType1Code": {
      "type": "string",
      "description": "Specifies the alias type as published in an external code list.\r\n"
    },
    "Max2048Text": {
      "type": "string",
      "description": "Specifies a character string with a maximum length of 2048 characters.",
      "minLength": 1,
      "maxLength": 2048
    },
    "Max34Text": {
      "type": "string",
      "description": "Specifies a character string with a maximum length of 34 characters.",
      "minLength": 1,
      "maxLength": 34
    },
    "ExternalAccountIdentification1Code": {
      "type": "string",
      "description": "Specifies the external account identification scheme name code in the format of character string with a maximum length of 4 characters.\r\nThe list of valid codes is an external code list published separately.\r\nExternal code sets can be downloaded from www.iso20022.org."
    },
    "AnyBICIdentifier": {
      "type": "string",
      "description": "Code allocated to a financial or non-financial institution by the ISO 9362 Registration Authority, as described in ISO 9362 \"Banking - Banking telecommunication messages - Business identifier code (BIC)\".",
      "pattern": "^[A-Z]{6,6}[A-Z2-9][A-NP-Z0-9]([A-Z0-9]{3,3}){0,1}$"
    },
    "ISODate": {
      "type": "string",
      "description": "A particular point in the progression of time in a calendar year expressed in the YYYY-MM-DD format. This representation is defined in \"XML Schema Part 2: Datatypes Second Edition - W3C Recommendation 28 October 2004\" which is aligned with ISO 8601.",
      "pattern": "^(?:[1-9]\\d{3}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1\\d|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[1-9]\\d(?:0[48]|[2468][048]|[13579][26])|(?:[2468][048]|[13579][26])00)-02-29)$"
    }
  }
}